<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS基础 | ALonG</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/icon/ALONG.png">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.cdcdf1b7.js" as="script"><link rel="preload" href="/assets/js/2.33777ae9.js" as="script"><link rel="preload" href="/assets/js/10.b38220d2.js" as="script"><link rel="prefetch" href="/assets/js/11.9e8f2314.js"><link rel="prefetch" href="/assets/js/12.970eddfa.js"><link rel="prefetch" href="/assets/js/13.3d4fc30f.js"><link rel="prefetch" href="/assets/js/14.1e172764.js"><link rel="prefetch" href="/assets/js/15.bf87b230.js"><link rel="prefetch" href="/assets/js/16.0059fd1c.js"><link rel="prefetch" href="/assets/js/17.da1c7dad.js"><link rel="prefetch" href="/assets/js/18.2b37567d.js"><link rel="prefetch" href="/assets/js/19.4e5ca512.js"><link rel="prefetch" href="/assets/js/20.bbb2302d.js"><link rel="prefetch" href="/assets/js/21.48f02e01.js"><link rel="prefetch" href="/assets/js/22.bf75f66b.js"><link rel="prefetch" href="/assets/js/23.a94750ee.js"><link rel="prefetch" href="/assets/js/24.e04cdeb7.js"><link rel="prefetch" href="/assets/js/25.605b99d7.js"><link rel="prefetch" href="/assets/js/26.ecd33ccf.js"><link rel="prefetch" href="/assets/js/27.4f11d8aa.js"><link rel="prefetch" href="/assets/js/28.6e8a0d02.js"><link rel="prefetch" href="/assets/js/29.548f4080.js"><link rel="prefetch" href="/assets/js/3.15faf289.js"><link rel="prefetch" href="/assets/js/30.3e420a6a.js"><link rel="prefetch" href="/assets/js/31.05d8042e.js"><link rel="prefetch" href="/assets/js/32.8e3e0142.js"><link rel="prefetch" href="/assets/js/33.c08a0f74.js"><link rel="prefetch" href="/assets/js/34.61fc7190.js"><link rel="prefetch" href="/assets/js/35.987f5fd8.js"><link rel="prefetch" href="/assets/js/36.29eb1a12.js"><link rel="prefetch" href="/assets/js/37.caa99638.js"><link rel="prefetch" href="/assets/js/38.c1b3ec77.js"><link rel="prefetch" href="/assets/js/39.598e605b.js"><link rel="prefetch" href="/assets/js/4.1cfc2f80.js"><link rel="prefetch" href="/assets/js/40.50680b2e.js"><link rel="prefetch" href="/assets/js/41.6bd1a31f.js"><link rel="prefetch" href="/assets/js/42.d3ee2a0a.js"><link rel="prefetch" href="/assets/js/43.d3b5fd58.js"><link rel="prefetch" href="/assets/js/44.da9ae377.js"><link rel="prefetch" href="/assets/js/45.6bb8421a.js"><link rel="prefetch" href="/assets/js/46.213b709d.js"><link rel="prefetch" href="/assets/js/47.36f7234e.js"><link rel="prefetch" href="/assets/js/48.ba3a4030.js"><link rel="prefetch" href="/assets/js/49.3c1f9d17.js"><link rel="prefetch" href="/assets/js/5.f4652c3e.js"><link rel="prefetch" href="/assets/js/50.87905b4d.js"><link rel="prefetch" href="/assets/js/51.145733b6.js"><link rel="prefetch" href="/assets/js/52.8fbe7c18.js"><link rel="prefetch" href="/assets/js/53.8ca013cc.js"><link rel="prefetch" href="/assets/js/54.df016f94.js"><link rel="prefetch" href="/assets/js/55.ba2132f9.js"><link rel="prefetch" href="/assets/js/56.738106c2.js"><link rel="prefetch" href="/assets/js/57.55481675.js"><link rel="prefetch" href="/assets/js/58.47813747.js"><link rel="prefetch" href="/assets/js/59.68e3c56b.js"><link rel="prefetch" href="/assets/js/6.d3a5a956.js"><link rel="prefetch" href="/assets/js/7.765f416c.js"><link rel="prefetch" href="/assets/js/8.17fca270.js"><link rel="prefetch" href="/assets/js/9.00c8f1b9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ALonG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  Python
</a></div> <a href="https://github.com/longhaoxuan/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  Python
</a></div> <a href="https://github.com/longhaoxuan/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>那些从0说起的故事</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>妖魔鬼怪篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>一条小白的数据结构与算法之路</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运维相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂七杂八待整理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML+CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP协议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/JS基础/代理与反射.html" class="sidebar-link">代理与反射</a></li><li><a href="/blog/JS基础/观察者.html" class="sidebar-link">任务执行顺序</a></li><li><a href="/blog/JS基础/JavaScript.html" class="active sidebar-link">JS基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#基础的基础概述" class="sidebar-link">基础的基础概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#数据类型-5简单-原始类型-primitive-type-1复杂" class="sidebar-link">数据类型（5简单（原始类型（primitive type））+1复杂）</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#操作符" class="sidebar-link">操作符</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#语句" class="sidebar-link">语句</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#变量作用域和内存问题" class="sidebar-link">变量作用域和内存问题</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#变量声明" class="sidebar-link">变量声明</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#基本引用类型" class="sidebar-link">基本引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#基本包装类型-boolean-number-string" class="sidebar-link">基本包装类型（Boolean,Number,String）</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#单体内置对象" class="sidebar-link">单体内置对象</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#regrxp" class="sidebar-link">RegRxp</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#object对象" class="sidebar-link">Object对象</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#_2-array" class="sidebar-link">2.Array</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#_3-date类型" class="sidebar-link">3.Date类型</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#_4-regexp正则匹配" class="sidebar-link">4.RegExp正则匹配</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#_5-function" class="sidebar-link">5.Function</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#请求响应" class="sidebar-link">请求响应</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#事件" class="sidebar-link">事件</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#xml" class="sidebar-link">xml</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#promise" class="sidebar-link">promise</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#动画与canvas图型" class="sidebar-link">动画与canvas图型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#requestanimationframe" class="sidebar-link">requestAnimationFrame</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#你不知道的js-上" class="sidebar-link">你不知道的js（上）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#作用域" class="sidebar-link">作用域</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#词法作用域" class="sidebar-link">词法作用域</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#函数作用域和块作用域" class="sidebar-link">函数作用域和块作用域</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#块作用域" class="sidebar-link">块作用域</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#提升" class="sidebar-link">提升</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#作用域闭包" class="sidebar-link">作用域闭包</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#webpack-前端模块化打包工具" class="sidebar-link">webpack 前端模块化打包工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#模块化" class="sidebar-link">模块化</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#loader" class="sidebar-link">loader</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#梳理" class="sidebar-link">梳理</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#vue" class="sidebar-link">vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#声明式渲染" class="sidebar-link">声明式渲染</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#vue-cli" class="sidebar-link">vue-cli</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#vue目录结构" class="sidebar-link">vue目录结构</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#readme-md与常用命令" class="sidebar-link">readme.md与常用命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#vue-vuex" class="sidebar-link">vue-vuex</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#koa" class="sidebar-link">koa</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#koa-static-静态文件" class="sidebar-link">koa-static 静态文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#闭包-closure" class="sidebar-link">闭包（closure）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#闭包的作用" class="sidebar-link">闭包的作用</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#立即执行函数" class="sidebar-link">立即执行函数</a></li><li class="sidebar-sub-header"><a href="/blog/JS基础/JavaScript.html#函数声明转表达式" class="sidebar-link">函数声明转表达式</a></li></ul></li><li><a href="/blog/JS基础/js待整理.html" class="sidebar-link">js待整理</a></li><li><a href="/blog/JS基础/JS函数式编程.html" class="sidebar-link">JS函数式编程</a></li><li><a href="/blog/JS基础/typescript.html" class="sidebar-link">TypeScript</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>QA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TODO</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js基础"><a href="#js基础" class="header-anchor">#</a> JS基础</h1> <p></p><div class="table-of-contents"><ul><li><a href="#基础的基础概述">基础的基础概述</a><ul><li><a href="#数据类型-5简单-原始类型-primitive-type-1复杂">数据类型（5简单（原始类型（primitive type））+1复杂）</a></li><li><a href="#操作符">操作符</a></li><li><a href="#语句">语句</a></li><li><a href="#变量作用域和内存问题">变量作用域和内存问题</a></li><li><a href="#变量声明">变量声明</a></li></ul></li><li><a href="#基本引用类型">基本引用类型</a><ul><li><a href="#基本包装类型-boolean-number-string">基本包装类型（Boolean,Number,String）</a></li><li><a href="#单体内置对象">单体内置对象</a></li><li><a href="#regrxp">RegRxp</a></li><li><a href="#object对象">Object对象</a></li><li><a href="#_2-array">2.Array</a></li><li><a href="#_3-date类型">3.Date类型</a></li><li><a href="#_4-regexp正则匹配">4.RegExp正则匹配</a></li><li><a href="#_5-function">5.Function</a></li><li><a href="#请求响应">请求响应</a></li><li><a href="#事件">事件</a></li><li><a href="#xml">xml</a></li></ul></li><li><a href="#promise">promise</a></li><li><a href="#动画与canvas图型">动画与canvas图型</a><ul><li><a href="#requestanimationframe">requestAnimationFrame</a></li></ul></li><li><a href="#你不知道的js-上">你不知道的js（上）</a><ul><li><a href="#作用域">作用域</a></li><li><a href="#词法作用域">词法作用域</a></li><li><a href="#函数作用域和块作用域">函数作用域和块作用域</a></li><li><a href="#块作用域">块作用域</a></li><li><a href="#提升">提升</a></li><li><a href="#作用域闭包">作用域闭包</a></li></ul></li><li><a href="#webpack-前端模块化打包工具">webpack 前端模块化打包工具</a><ul><li><a href="#模块化">模块化</a></li><li><a href="#loader">loader</a></li><li><a href="#梳理">梳理</a></li></ul></li><li><a href="#vue">vue</a><ul><li><a href="#声明式渲染">声明式渲染</a></li></ul></li><li><a href="#vue-cli">vue-cli</a><ul><li><a href="#vue目录结构">vue目录结构</a></li><li><a href="#readme-md与常用命令">readme.md与常用命令</a></li></ul></li><li><a href="#vue-vuex">vue-vuex</a></li><li><a href="#koa">koa</a><ul><li><a href="#koa-static-静态文件">koa-static 静态文件</a></li></ul></li><li><a href="#闭包-closure">闭包（closure）</a><ul><li><a href="#闭包的作用">闭包的作用</a></li></ul></li><li><a href="#立即执行函数">立即执行函数</a></li><li><a href="#函数声明转表达式">函数声明转表达式</a></li></ul></div><p></p> <div class="custom-block tip"><p class="custom-block-title">写在前面</p> <p>尽信书则不如无书，红宝书第第三版有很多翻译的有歧义，而且很多话说的很绕，第四版有很大改进，但也并非完美无缺，下面笔记也会有很多变更的地方，希望自己一个月之内通读完，然后进入下一本</p></div> <p>javascript包含，ECMAScript,DOM,BOM。支持uinicode字符标准。</p> <div class="custom-block tip"><p class="custom-block-title">DOM(Documennt Object Model)</p> <ul><li>针对于XML创建扩展用于HTML的API(Application Programming Interface)接口</li> <li>DOM视图 View</li> <li>DOM事件 Events</li> <li>DOM样式 Style</li> <li>DOM遍历和范围 Traversal and Range</li> <li>DOM加载和保存 Load and Save</li> <li>DOM验证 Validation</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">BOM(Browser Object Model)</p> <ul><li>操作浏览器的接口　不同浏览器实现不同</li> <li>弹出新窗口</li> <li>提供浏览器详细信息 navigator</li> <li>提供页面加载页面信息 Location</li> <li>提供分辨率信息 screen</li> <li>Cookie</li> <li>XMLHttpRequest</li> <li>ie ActiveXObject</li> <li>window</li></ul></div> <p>xhtml中引入script标签：</p> <div class="language-xhtml line-numbers-mode"><pre class="language-text"><code>&lt;script type=&quot;text/jacascript&quot;&gt;
//&lt;![CDATA[
xhtml内需要cData，面对不支持的xhtml的加注释hack
//]]&gt;
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="基础的基础概述"><a href="#基础的基础概述" class="header-anchor">#</a> 基础的基础概述</h2> <h3 id="数据类型-5简单-原始类型-primitive-type-1复杂"><a href="#数据类型-5简单-原始类型-primitive-type-1复杂" class="header-anchor">#</a> 数据类型（5简单（原始类型（primitive type））+1复杂）</h3> <ol><li>undefined： [变量初始化]</li> <li>null： [空对象指针，对象初始化最好指定]</li> <li>boolean(true,false)： [false:&quot;&quot;,0,NaN,null,undefined]</li> <li>number： [IEEE754格式规范：<strong>浮点数值有问题</strong>]，[0:八进制，0x：16进制]</li> <li>string</li> <li>symbol*新类型</li> <li>object<a href="#object">详细</a></li></ol> <p>因为js变量是<strong>松散</strong>的，不需要太多的类型，变量仅是<strong>占位符</strong>。</p> <h4 id="nuamber"><a href="#nuamber" class="header-anchor">#</a> Nuamber</h4> <p>number数值转换[Number(),parseInt(),parseFlot()]</p> <ol><li>null:0</li> <li>undefined：NaN</li> <li>obj：先valueOf(),后toString()</li></ol> <h4 id="string"><a href="#string" class="header-anchor">#</a> String</h4> <ul><li>创建后不可改变，只能销毁在新建</li> <li>toString():null,undefined没有toString方法TypeError。</li> <li>String()：存在toString方法调用，null，undefined 返回字面量。</li> <li>字面量模板（ES6）:<code>${}</code></li></ul> <h4 id="symbol-es6"><a href="#symbol-es6" class="header-anchor">#</a> Symbol(ES6)</h4> <ul><li>原始值唯一不可改变。typeof 会返回symbol</li> <li>Symbol()初始化，可以传参，仅起到描述作用，不影响唯一性</li></ul> <h3 id="操作符"><a href="#操作符" class="header-anchor">#</a> 操作符</h3> <div class="custom-block tip"><p class="custom-block-title">相等与全等</p> <p>相等先转换在比较，全等不转换仅比较</p></div> <p>相等转换规则：</p> <ul><li>null和undefined不转换，他俩却相等</li> <li>先转数字，对象调valueOf方法。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">//true</span>
<span class="token keyword">null</span> <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token comment">//false</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="位操作符"><a href="#位操作符" class="header-anchor">#</a> 位操作符</h4> <ul><li>按位非（～）:0变1</li> <li>按位与（&amp;）：同1得1</li> <li>按位或（|）：有1得1</li> <li>安位异或（^）：不同得1</li></ul> <h4 id="布尔作符-逻辑"><a href="#布尔作符-逻辑" class="header-anchor">#</a> 布尔作符（逻辑）</h4> <ul><li>逻辑非（！）:真变假，假变真</li> <li>逻辑与（&amp;&amp;）：一假则假，真真得真
<ul><li>第一个是false 这直接返回</li> <li>第一个是对象返回第二个</li> <li>都是对象 返回第二个</li> <li>存在null，NaN,undefined 返回 null.NaN,undefined</li></ul></li> <li>按位或（||）：一真则真，假假得假
<ul><li>第一个是ture直接返回</li> <li>第一个是对象，直接返回</li> <li>都是null,NaN,undefined,返回null，NaN,undefined,否则返回第二个</li></ul></li></ul> <h3 id="语句"><a href="#语句" class="header-anchor">#</a> 语句</h3> <ul><li>if</li> <li>do—while</li> <li>while</li> <li>for</li> <li>for-in 都会被遍历，但是没有顺序。</li> <li><strong>for-of</strong>新：用于遍历可迭代的对象  //TODO:补全</li> <li><strong>for-await-of</strong>：支持生成promise的可迭代异步对象。</li> <li>switch():case[使用的是全等操作，不会触发类型转换]</li> <li>with</li></ul> <p>大量使用with性能会下降，<a href="#%E8%AF%8D%E6%B3%95%E6%AC%BA%E9%AA%97-%E4%B8%8D%E6%8E%A8%E8%8D%90-%E4%BC%9A%E9%99%8D%E4%BD%8E%E6%80%A7%E8%83%BD">此法欺骗</a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// with 例</span>
<span class="token keyword">var</span> qs<span class="token operator">=</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> hostName<span class="token operator">=</span>location<span class="token punctuation">.</span>hostname
<span class="token keyword">var</span> url<span class="token operator">=</span>location<span class="token punctuation">.</span>href

<span class="token keyword">with</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> qs<span class="token operator">=</span>search<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> hostName<span class="token operator">=</span>hostname
  <span class="token keyword">var</span> url<span class="token operator">=</span>href
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="标签语句"><a href="#标签语句" class="header-anchor">#</a> 标签语句</h4> <p>// TODO 标签语句</p> <h3 id="变量作用域和内存问题"><a href="#变量作用域和内存问题" class="header-anchor">#</a> 变量作用域和内存问题</h3> <p>原始值（primitive value）<s>基本类型值</s>：按值引用，基本类型不能添加属性（undefiend,Null,boolean,number,string，symbol)<strong>别着急</strong></p> <p>引用值（reference value）<s>引用类型值</s>:是<a href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B">引用类型</a>的实例 <strong>引用类型是数据结构</strong></p> <ul><li>不能直接操作内存，所以安引用访问的（不严谨，复制是）</li> <li>复制引用类型，复制的是堆内存指针，复制的是引用。</li></ul> <div class="custom-block warning"><p class="custom-block-title">意淫</p> <p>👆boolen，number，string是特殊引用类型，但是他们的实例是基本类型值</p> <p>👇参数只能<strong>按值</strong>传递，书上说的，下面的例子是证明，但是我觉得是new的问题(nwe 开辟了新的内存地址，切断了)</p></div> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;along&quot;</span>
  obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;song&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setName</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// 传入对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// along</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>**typeof 检测原始值<s>非objct，null还是好用的</s>**numuer,undefined,boolean,string</p> <p><strong>instanceof</strong>根据原型链识别</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>variable <span class="token keyword">instanceof</span> <span class="token class-name">constructor</span>
person <span class="token keyword">instanceof</span> <span class="token class-name">Object</span>
person <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>
person <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="首次谈及执行环境和作用域"><a href="#首次谈及执行环境和作用域" class="header-anchor">#</a> 首次谈及执行环境和作用域</h4> <ul><li>执行环境（execution context):定义了『变量或函数有权访问的数据』决定了『』的行为，有一个关联的VO</li> <li>变量对象（variable object）：『变量和函数』都在这个里面，无法访问，解析器可以</li> <li>活动对象（activation Object）：ac最开始只包含arguments对象，<strong>这里我理解为：执行到这里，这里的作用域链就变成了ac，ac=作用域链</strong></li></ul> <div class="custom-block warning"><p class="custom-block-title">意淫</p> <ul><li>说说自己的理解，老外的东西说的是贼绕，<strong>&quot;代码在一个环境执行时，会创建VO的一个作用于链&quot;</strong>，作用域链是VO组成的（<strong>VO=作用域?</strong>），那VO就是作用域！另一本书说 <strong>作用域是存储变量的规则</strong></li></ul> <p>不同时期的产物，可能是同一个东西，不必太过纠结。</p></div> <h3 id="变量声明"><a href="#变量声明" class="header-anchor">#</a> 变量声明</h3> <ul><li>var
<ul><li>提升（hoisting）</li></ul></li> <li>let
<ul><li>块级作用域，重复声明报错syntaxError</li> <li>也会提升，因为‘暂时性死区’导致不能用（temporal dead zone）</li></ul></li> <li>const
<ul><li>一经声明不可改变，对象的键除外</li> <li>同样块级作用域</li> <li>如果非要对象不变使用Object.freeze(obj)</li> <li>会暗示为单一类型，编译器会将实例替换成实际值，减少查找，增加速度</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
a<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">//不会报错</span>
a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// TypeError</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="首次谈及垃圾清除"><a href="#首次谈及垃圾清除" class="header-anchor">#</a> 首次谈及垃圾清除</h4> <p>node<a href="https://blog.risingstack.com/node-js-at-scale-node-js-garbage-collection/" target="_blank" rel="noopener noreferrer">垃圾清除<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>垃圾回收时周期性的，每隔一段时间自动运行
函数中局部变量的正常生命周期,变量会在函数执行时存在。此时，栈(或堆)内存会分配空间以保存相应的值。函数在内部使用了变量，然后退出。此时，就不再需要那个局部变量了，它占用的内存可以释放，供后面使用。有时候并不是这么明显。垃圾回收程序必须跟踪记录哪个变量还会使用，以及哪个变量不会再使用，以便回收 内存。如何标记未使用的变量有许多不同的实现方式。在浏览器的发展史上，用到过两种主要的标记策略:标记清理和引用计数。</p></blockquote> <ol><li>标记清除
当变量进入上下文时会被标记，当变量离开上下文时会被添加离开的标记，具体的实现方式有多种，每个浏览器的周期不同</li> <li>引用计数
主要是解决循环引用的问题，当声明变量并给它赋一个引用值时，这个值的引用数为 1。如果同一个值又被赋给另一个变量，那么引用数加1，如果这个值被覆盖则减1，减到0则可以清理。</li> <li>const 和 let 会更早的让垃圾回收程序介入 优化性能，因为用的是块级作用域。</li> <li>最好不要动态的删除或创建对象属性，会改变隐藏的对象，合理的设置null</li> <li>频繁的垃圾回收会影响性能，IE7以后的回收机制是，当回收内存小于已分配内存的15%则分配空间翻倍，如果回收超过85%则分配空间恢复默认值。</li></ol> <h4 id="管理内存"><a href="#管理内存" class="header-anchor">#</a> 管理内存</h4> <p>因为出于安全，浏览器分配的内存比（桌面应用）的少，『chrome牛逼』。</p> <ul><li>解除引用：将不用的对象设置null，不挂在根节点的对象会被回收</li> <li>内存泄漏
<ul><li>意外全局声明，函数内声明变量千万记得加let const或var</li> <li>定时器setTimeout回到函数引用了外部变量</li> <li>闭包</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 来个泄露的例子吧</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">var</span> a  <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">7</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 7</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="基本引用类型"><a href="#基本引用类型" class="header-anchor">#</a> 基本引用类型</h2> <blockquote><p>漂亮文章结构北改了大Function和Object都被提升到新的章节了，原来这张叫基本引用类型，现在一分为三，后续还有集合引用类型，函数</p></blockquote> <ul><li>Date<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>RegRxp // TODO:正则小本本要写笔记</li></ul> <h3 id="基本包装类型-boolean-number-string"><a href="#基本包装类型-boolean-number-string" class="header-anchor">#</a> 基本包装类型（Boolean,Number,String）</h3> <ul><li>执行机制：
<ol><li>创建String类的实例，隐式调用new String()</li> <li>在实例上调用指定方法</li> <li>销毁实例</li></ol></li> <li>引用值和基本包装类型的区别是：生命周期不一样，只存在代码执行的瞬间，执行后立即销毁</li> <li>不能为基本类型添加属性和方法</li> <li>可以显式声明</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">&quot;sdadf&quot;</span>
s1<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span> <span class="token comment">// undefiend</span>
<span class="token comment">// 来了</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> s1<span class="token punctuation">)</span> <span class="token comment">// string</span>
s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;sdfasf&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> s1<span class="token punctuation">)</span> <span class="token comment">// object</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="单体内置对象"><a href="#单体内置对象" class="header-anchor">#</a> 单体内置对象</h3> <p>另外两个内置对象</p> <ol><li>Global
不存在的，兜底对象，</li> <li>Math
随机值：num = Math.floor(Math.random()*可能值的总数+第一个肯能值)</li></ol> <ul><li>Date</li></ul> <h3 id="regrxp"><a href="#regrxp" class="header-anchor">#</a> RegRxp</h3> <ul><li>g:全局模式，表示查找字符串的全部内容，而不是找到第一个匹配的内容就结束。</li> <li>i:不区分大小写，表示在查找匹配时忽略 pattern 和字符串的大小写。</li> <li>m:多行模式，表示查找到一行文本末尾时会继续查找。</li> <li>y:粘附模式，表示只查找从 lastIndex 开始及之后的字符串。</li> <li>u:Unicode 模式，启用 Unicode 匹配。</li> <li>s:dotAll 模式，表示元字符.匹配任何字符(包括\n 或\r)。</li></ul> <h3 id="object对象"><a href="#object对象" class="header-anchor">#</a> Object对象</h3> <ul><li>数据和功能的集合</li> <li>Object<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">详细文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><strong>Object（）每个实力都具有的方法</strong>：</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>constructor</td> <td>保存创建当前对象的函数</td></tr> <tr><td>hasOwnProperty(propertyName)</td> <td>检查给定的属性(propertyName)在当前实例中是否存在，不算原型。</td></tr> <tr><td>isPertotypeOf(object)</td> <td>检测传入的对象(object),是否是当前对象的原型。</td></tr> <tr><td>propertyIsEnumberable(propertyName)</td> <td>检测给定的属性(propertyName)能否for in。</td></tr> <tr><td>toLocaleString()</td> <td>返回对象的字符串表示，与执行环境相关。</td></tr> <tr><td>toString()</td> <td>返回对象的字符串表示</td></tr> <tr><td>toValueOf()</td> <td>通常和toString()相同，字符串，数值或布尔值。</td></tr></tbody></table> <p><strong>Object 构造函数的方法</strong>：</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>Object.assign()</td> <td>通过复制一个或多个对象来创建一个新的对象。</td></tr> <tr><td>Object.create()</td> <td>使用指定的原型对象和属性创建一个新对象。</td></tr> <tr><td>Object.defineProperty()</td> <td>给对象添加一个属性并指定该属性的配置。</td></tr> <tr><td>Object.defineProperties()</td> <td>给对象添加多个属性并分别指定它们的配置。</td></tr> <tr><td>Object.entries()</td> <td>返回给定对象自身可枚举属性的 [key, value] 数组。</td></tr> <tr><td>Object.freeze()</td> <td>冻结对象：其他代码不能删除或更改任何属性。</td></tr> <tr><td>Object.getOwnPropertyDescriptor()</td> <td>返回对象指定的属性配置。</td></tr> <tr><td>Object.getOwnPropertyNames()</td> <td>返回一个数组，它包含了指定对象所有的可枚举或不可枚举的属性名。</td></tr> <tr><td>Object.getOwnPropertySymbols()</td> <td>返回一个数组，它包含了指定对象自身所有的符号属性。</td></tr> <tr><td>Object.getPrototypeOf()</td> <td>返回指定对象的原型对象。</td></tr> <tr><td>Object.is()</td> <td>比较两个值是否相同。所有 NaN 值都相等（这与==和===不同）。</td></tr> <tr><td>Object.isExtensible()</td> <td>判断对象是否可扩展。</td></tr> <tr><td>Object.isFrozen()</td> <td>判断对象是否已经冻结。</td></tr> <tr><td>Object.isSealed()</td> <td>判断对象是否已经密封。</td></tr> <tr><td>Object.keys()</td> <td>返回一个包含所有给定对象自身可枚举属性名称的数组。</td></tr> <tr><td>Object.preventExtensions()</td> <td>防止对象的任何扩展。</td></tr> <tr><td>Object.seal()</td> <td>防止其他代码删除对象的属性。</td></tr> <tr><td>Object.setPrototypeOf()</td> <td>设置对象的原型（即内部 [[Prototype]] 属性）。</td></tr> <tr><td>Object.values()</td> <td>返回给定对象自身可枚举值的数组。</td></tr></tbody></table> <h3 id="_2-array"><a href="#_2-array" class="header-anchor">#</a> 2.Array</h3> <h3 id="_3-date类型"><a href="#_3-date类型" class="header-anchor">#</a> 3.Date类型</h3> <h3 id="_4-regexp正则匹配"><a href="#_4-regexp正则匹配" class="header-anchor">#</a> 4.RegExp正则匹配</h3> <p>// TODO 小书</p> <h3 id="_5-function"><a href="#_5-function" class="header-anchor">#</a> 5.Function</h3> <h3 id="请求响应"><a href="#请求响应" class="header-anchor">#</a> 请求响应</h3> <h3 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h3> <h3 id="xml"><a href="#xml" class="header-anchor">#</a> xml</h3> <h2 id="promise"><a href="#promise" class="header-anchor">#</a> promise</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> 立即执行，then
Class myp<span class="token punctuation">{</span>
  This<span class="token punctuation">.</span>val 初始结果空间
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token constant">XE</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    This<span class="token punctuation">.</span>val<span class="token operator">=</span>val 保存结果
  <span class="token punctuation">}</span>
  <span class="token function">Then</span><span class="token punctuation">(</span><span class="token function">full</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token function">Full</span><span class="token punctuation">(</span>Val<span class="token punctuation">)</span>结果传个then执行
<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="动画与canvas图型"><a href="#动画与canvas图型" class="header-anchor">#</a> 动画与canvas图型</h2> <h3 id="requestanimationframe"><a href="#requestanimationframe" class="header-anchor">#</a> requestAnimationFrame</h3> <ul><li>参数：下次重绘执行的函数</li> <li>return：请求ID</li> <li>cancelAnimationFrame(id) 取消</li></ul> <h4 id="节流"><a href="#节流" class="header-anchor">#</a> 节流</h4> <p>浏览器会暴露hook的回调队列在重绘前，队列没有限制</p> <ul><li>requestAnimationFrame</li> <li>标志变量</li> <li>计时器</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> enabled <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>enabled<span class="token punctuation">)</span><span class="token punctuation">{</span>
    enabled<span class="token operator">=</span><span class="token boolean">false</span>
    window<span class="token punctuation">.</span><span class="token function">requestAnimataionFrame</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>enabled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_2d绘图"><a href="#_2d绘图" class="header-anchor">#</a> 2D绘图</h4> <ol><li>获取上下文 <code>canvas.getContext(&quot;2d&quot;)</code></li> <li>导出canvas图像toDataURL传入MIME类型<code>canvas.toDataURL(&quot;image/png&quot;)</code></li> <li>左下角为(0,0)</li> <li>填充<code>fileStyle</code>与描边<code>strokeStyle</code></li> <li>绘制矩形<code>fillRect()</code>,<code>strokeRect()</code>,<code>clearRect()</code>分别是实心、描边、橡皮矩形，4个参数（x，y，宽，高）</li> <li>绘制路径
 arc(x, y, radius, startAngle, endAngle, counterclockwise):以坐标(x, y)为圆 心，以 radius 为半径绘制一条弧线，起始角度为 startAngle，结束角度为 endAngle(都是 弧度)。最后一个参数 counterclockwise 表示是否逆时针计算起始角度和结束角度(默认为 顺时针)。
 arcTo(x1, y1, x2, y2, radius):以给定半径 radius，经由(x1, y1)绘制一条从上一点 到(x2, y2)的弧线。
 bezierCurveTo(c1x, c1y, c2x, c2y, x, y):以(c1x, c1y)和(c2x, c2y)为控制点， 绘制一条从上一点到(x, y)的弧线(三次贝塞尔曲线)。
 lineTo(x, y):绘制一条从上一点到(x, y)的直线。
 moveTo(x, y):不绘制线条，只把绘制光标移动到(x, y)。
quadraticCurveTo(cx, cy, x, y):以(cx, cy)为控制点，绘制一条从上一点到(x, y)
的弧线(二次贝塞尔曲线)。
 rect(x, y, width, height):以给定宽度和高度在坐标点(x, y)绘制一个矩形。这个方法
与 strokeRect()和 fillRect()的区别在于，它创建的是一条路径，而不是独立的图形。</li></ol> <h2 id="你不知道的js-上"><a href="#你不知道的js-上" class="header-anchor">#</a> 你不知道的js（上）</h2> <h3 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h3> <h4 id="编译原理"><a href="#编译原理" class="header-anchor">#</a> 编译原理</h4> <p>js “动态或解释性语言，实际上编译行语言”</p> <p>大部分编译语言代码执行前（编译）三步：</p> <ol><li>分词/词法分析</li> <li>解析/语法分析（抽象语法树AST）</li> <li>代码生成（根据AST生成指令）</li></ol> <p>js会比这复杂，</p> <h4 id="理解作用域"><a href="#理解作用域" class="header-anchor">#</a> 理解作用域</h4> <p><strong>引擎</strong>：从头到尾负责【编译】及【执行】过程</p> <p><strong>编译器</strong>：语法分析及代码生成</p> <p><strong>作用域</strong>：负责收集维护 所有声明变量 组成的一系列查询，确定当前执行的代码对 变量的访问权限。</p> <ol><li>编译器（左右查找右查找）--&gt;&gt;作用域（var a 将填入作用域）</li> <li>引擎--&gt;&gt;（询问当前【作用域】）
<ol><li>无：作用域向上查找</li> <li>有：直接执行</li></ol></li></ol> <p>LHS（左查找）：赋值</p> <p>RHS(非左查找): 查找</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> a           <span class="token comment">//b=[LHS],a[RHS]</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b         <span class="token comment">//a,b[RHS]</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">// c=[LHS],foo()[RHS],a=2[LHS]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="作用域嵌套"><a href="#作用域嵌套" class="header-anchor">#</a> 作用域嵌套</h4> <p>逐级向上查找，</p> <h4 id="异常"><a href="#异常" class="header-anchor">#</a> 异常</h4> <p>RHS:(未声明)ReferenceError</p> <p>LHS:</p> <p>非严格模式：帮你声明</p> <p>严格模式：ReferenceError</p> <p>作用域存在：typeError，undefined</p> <h3 id="词法作用域"><a href="#词法作用域" class="header-anchor">#</a> 词法作用域</h3> <p>气泡</p> <h4 id="词法欺骗-不推荐-会降低性能"><a href="#词法欺骗-不推荐-会降低性能" class="header-anchor">#</a> 词法欺骗(不推荐，会降低性能)</h4> <p><strong>eval（修改词法作用域，严格模式被限制）</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">eval</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">3</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&quot;var b = 4&quot;</span><span class="token punctuation">)</span><span class="token comment">//4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>with（创建新的词法作用域，严格模式完全不能用）</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//test_1</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span><span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token comment">//正常</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span>
<span class="token operator">...</span>
<span class="token comment">//with</span>
<span class="token keyword">with</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  c <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//test_2</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">with</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span><span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  b<span class="token operator">:</span><span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span> <span class="token comment">// o1.a=2</span>
<span class="token function">foo</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span> <span class="token comment">// o2.a undefined,  a = 2 会被泄露到全局作用域</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="函数作用域和块作用域"><a href="#函数作用域和块作用域" class="header-anchor">#</a> 函数作用域和块作用域</h3> <h4 id="函数中的作用域"><a href="#函数中的作用域" class="header-anchor">#</a> 函数中的作用域</h4> <p>外部不能访问函数内作用域</p> <h4 id="隐藏内部实现"><a href="#隐藏内部实现" class="header-anchor">#</a> 隐藏内部实现</h4> <p>任意代码片段，函数声明对其进行包装，将其隐藏</p> <p>最小特权原则（最小暴露原则）</p> <p>规避冲突</p> <h4 id="函数作用域"><a href="#函数作用域" class="header-anchor">#</a> 函数作用域</h4> <p>问题</p> <ol><li><p>首先要生声明一个【具名】函数foo()（污染全局作用域）</p></li> <li><p>必须调用函数foo()</p></li></ol> <h4 id="iife-立即执行函数-【immediately-invoked-function-expression】"><a href="#iife-立即执行函数-【immediately-invoked-function-expression】" class="header-anchor">#</a> IIFE（立即执行函数）【immediately invoked function expression】</h4> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>(function(@param){
  。。。
})(@param)
看个人喜好
(function(){
  
}())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>undefined保存</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>(function(undefined){
  a === undefined
})()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>匿名函数的问题</strong></p> <ol><li>不方便调试</li> <li>递归的时候只能使用过期的argument.callee</li> <li>降低可读性</li></ol> <h3 id="块作用域"><a href="#块作用域" class="header-anchor">#</a> 块作用域</h3> <ol><li>let 不会提升，运行前声明不“存在”</li></ol> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>if(foo){
  let a  = 2
  console.log(a)
}
//显式
if(foo){
  {
    let a = 2
    console.log(a)
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-plain line-numbers-mode"><pre class="language-text"><code>for(i = 0;i&lt;3;i++){
  setTimeout(function(){
    console.log(i)
    },10000)
} // 333
//
for(let i = 0;i&lt;3;i++){
  setTimeout(function(){
    console.log(i)
    },10000)
} // 012
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol><li>const</li></ol> <h3 id="提升"><a href="#提升" class="header-anchor">#</a> 提升</h3> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>a = 2 
var a 
console.log(a)//2
==========
var a
a = 2
console.log(a)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>函数优先</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//typeError</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//ReferenceError</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token operator">===</span><span class="token operator">==</span>
<span class="token keyword">var</span> foo
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token operator">...</span>self<span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="作用域闭包"><a href="#作用域闭包" class="header-anchor">#</a> 作用域闭包</h3> <h2 id="webpack-前端模块化打包工具"><a href="#webpack-前端模块化打包工具" class="header-anchor">#</a> webpack 前端模块化打包工具</h2> <p>1</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>npm install webpack --dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h3> <ol><li>全局变量泛滥</li> <li>命名冲突</li> <li>依赖关系管理</li></ol> <p><strong>初期</strong></p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>//立即执行函数
(function(window){
  window.jQurey = window.$ = jQurey
})(window)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>现代化(高内聚，低耦合）</strong></p> <ol><li>commonJS</li> <li>RequireJS(AMD)/SeaJS(CMD)</li></ol> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>require(['math'],function(math){
  math.add(2,3)
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>ES6 module</li></ol> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>import math from 'math'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h4> <p><strong>npm-&gt;loader-&gt;source map(排错)-&gt;plagin</strong></p> <p>webpack常用配置包括：</p> <ol><li>devtool、</li> <li>entry、</li> <li>output、</li> <li>module、</li> <li>resolve、</li> <li>plugins、</li> <li>externals等</li></ol> <h3 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h3> <p><a href="https://zhuanlan.zhihu.com/p/28245984" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/28245984<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>loader是一个导出为function的node模块。可以将匹配到的文件进行一次转换，同时loader可以链式传递。</p> <h3 id="梳理"><a href="#梳理" class="header-anchor">#</a> 梳理</h3> <p>dev 开发环境</p> <ol><li><p>devServer</p></li> <li><p>sourceMap</p></li> <li><p>接口代理，proxy</p></li> <li><p>pro 生产环境</p></li> <li><p>treeShaking（清除未用模块）</p></li> <li><p>代码压缩</p></li> <li><p>提取公共代码</p></li></ol> <p>共同点</p> <p>同样的入口，</p> <p>部分代码相同的</p> <p><strong>方案</strong></p> <ol><li>webpack.prod.js</li> <li>webpack.dev.js</li> <li>webpack.base.js</li></ol> <p><strong>webpack-merge</strong></p> <p>打包优化</p> <ol><li>入口配置，entry多入口（jqurey全局使用）</li> <li>提取公共代码，splithunks</li> <li>动态加载，按需加载</li></ol> <p>代码包分析工具 webpack-bundle-analyzer</p> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> vue</h2> <h3 id="声明式渲染"><a href="#声明式渲染" class="header-anchor">#</a> 声明式渲染</h3> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>{{  }}
v-if = &quot;ture|flase&quot;
v-for = &quot;item in items&quot;
v-model
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="vue-cli"><a href="#vue-cli" class="header-anchor">#</a> vue-cli</h2> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>npm install -g @vue/cli
vue create my-project
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="vue目录结构"><a href="#vue目录结构" class="header-anchor">#</a> vue目录结构</h3> <h4 id="public"><a href="#public" class="header-anchor">#</a> public</h4> <p>模板文件 单页面文件</p> <h4 id="src目录"><a href="#src目录" class="header-anchor">#</a> src目录</h4> <ol><li>assets/ 静态文件</li> <li>components/ 组件模块</li> <li>router/ 路由</li> <li>store/ 状态管理、数据仓库</li> <li>views/ 视图</li> <li>App.vue Vue跟组件</li> <li>main.js 入口文件</li> <li>.gitignone git忽略文件</li></ol> <h4 id="vue-config-js文件"><a href="#vue-config-js文件" class="header-anchor">#</a> vue.config.js文件</h4> <p>自己生成，调整vue webpakg 配置</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
        configureWebpack<span class="token operator">:</span><span class="token punctuation">{</span>
            plugins<span class="token operator">:</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="readme-md与常用命令"><a href="#readme-md与常用命令" class="header-anchor">#</a> readme.md与常用命令</h3> <p>npm install              使用</p> <p>npm run serve            启动hot-reloads</p> <p>npm run build            项目打包</p> <p>npm run lint             lint代码检测</p> <p>输出webpack相关配置</p> <p>npx vue-cli-service inspack --mode production(or development) &gt;&gt; webpack.production.js</p> <h2 id="vue-vuex"><a href="#vue-vuex" class="header-anchor">#</a> vue-vuex</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 状态数据</span>
    count<span class="token operator">:</span><span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 计算属性</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 唯一改变state 得方式</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//进行异步处理</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 模块化</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="koa"><a href="#koa" class="header-anchor">#</a> koa</h2> <h3 id="koa-static-静态文件"><a href="#koa-static-静态文件" class="header-anchor">#</a> koa-static 静态文件</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> statics <span class="token operator">=</span> <span class="token function">requeire</span><span class="token punctuation">(</span><span class="token string">'koa-stacit'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> staicsPath <span class="token operator">=</span>  <span class="token string">'./static'</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">statics</span><span class="token punctuation">(</span>
  path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span>staicsPath<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="闭包-closure"><a href="#闭包-closure" class="header-anchor">#</a> 闭包（closure）</h2> <blockquote><p>闭包是函数和声明该函数的词法环境的组合
闭包就是能够读取其他函数内部变量的函数。
<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures" target="_blank" rel="noopener noreferrer">闭包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="闭包的作用"><a href="#闭包的作用" class="header-anchor">#</a> 闭包的作用</h3> <ul><li>实现共有变量
累加器</li> <li>可以做缓存</li> <li>可以是实现封装，属性私有化</li> <li>模块开发防止污染全局变量</li></ul> <h2 id="立即执行函数"><a href="#立即执行函数" class="header-anchor">#</a> 立即执行函数</h2> <blockquote><p>执行后立即销毁
实际上表达式都可以被执行
eater
Person</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//W3c</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="函数声明转表达式"><a href="#函数声明转表达式" class="header-anchor">#</a> 函数声明转表达式</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span> <span class="token keyword">function</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token keyword">function</span> <span class="token function">tect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">!</span> <span class="token keyword">function</span> <span class="token function">tect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/JS基础/观察者.html" class="prev">
        任务执行顺序
      </a></span> <span class="next"><a href="/blog/JS基础/js待整理.html">
        js待整理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cdcdf1b7.js" defer></script><script src="/assets/js/2.33777ae9.js" defer></script><script src="/assets/js/10.b38220d2.js" defer></script>
  </body>
</html>
